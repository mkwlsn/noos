<div class="developer_docs--section--FXtC8" id="authentication"><div class="developer_docs--sectionHeader--opGQm">Authentication</div><div><div><p>Before you can access an endpoint within Figma, you will need to provide valid authentication. You can authenticate your request to the Figma API in two ways:</p><p><ol><li>Generate a personal <span class="format--bold--sWViV">access token</span> through your user profile page. This gives you access to the Figma API as if you were a single user.</li><li><span class="format--italic--NDGIq">Recommended</span>: register a callback via <span class="format--bold--sWViV">OAuth2</span> and collect a <span class="format--bold--sWViV">client secret</span>. This allows you non-specific access to the Figma API, without having to act on behalf of a specific user.</li></ol></p></div></div><div></div><div class="developer_docs--subsection--hZWIc" id="access-tokens"><div class="developer_docs--subsectionHeader--xLpGV">Access tokens</div><div>A personal access token gives the holder access to an account through the API as if they were the user who generated the token.</div><div><div class="developer_docs--blackboardAnchor--0MIOE"><div class="developer_docs--subsubsectionHeader--EL8yi">Generate a personal access token</div><p><ol><li>Login to your Figma account.</li><li>From the <a rel="noopener nofollow noreferrer ugc" data-fpl-component="" class="link__link__n7llU" href="https://help.figma.com/hc/articles/14381406380183-Guide-to-the-file-browser">file browser</a>, click the account menu in the top-left corner and select <span class="format--bold--sWViV">Settings</span>.</li><li>Select the <span class="format--bold--sWViV">Security</span> tab.</li><li>In the <span class="format--bold--sWViV">Personal access tokens</span> section, click <span class="format--bold--sWViV">Generate new token</span> to open the configuration modal.</li><li>Set the expiration and <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#authentication-scopes">scopes</a> for the token. The scopes will determine which endpoints the token has access to.</li><li>Click <span class="format--bold--sWViV">Generate token</span>. This will be your only chance to copy the token, so make sure you keep a copy of this in a secure place.</li></ol></p><p>From the <span class="format--bold--sWViV">Security</span> tab of your account settings, you can hover over the name of an existing token to see what scopes it has. You can also see when the token was last used (give or take a few minutes). If you see any activity on a token that you did not initiate, revoke the token immediately. Revocations are instant and can be made at any time.</p><p>You can also generate an access token from this page to explore our endpoints. The token generated here will expire in 24 hours.</p><div class="developer_docs--subsubsectionHeader--EL8yi">Use the personal access token</div><p>You can now use the token to make requests to the Figma API. You can do so by passing the token to the API in the <span class="format--literal--ozK-p">X-Figma-Token</span> header of your request. We’ve shown you an example of how this would look.</p><div class="developer_docs--inlineReturnStyle--oRtFw"><div class="developer_docs--subsubsectionHeader--EL8yi">Using the token to make requests</div><div class="developer_docs--codeText--mtqhX"><pre>$ curl -sH 'X-Figma-Token: 29-206...'
    'https://api.figma.com/v1/files/...'
    | python -m json.tool
{
  "components": {},
  "document": {
    "children": [
      {
        "backgroundColor": {
          "a": 1,
          "b": 0.8980392156862745,
          "g": 0.8980392156862745,
          "r": 0.8980392156862745
        },
        "children": [],
        "exportSettings": [],
        "id": "0:1",
        "name": "Page 1",
        "type": "CANVAS",
      }
    ],
    "id": "0:0",
    "name": "Document",
    "type": "DOCUMENT",
  },
  "schemaVersion": 0
}</pre></div></div><div class="blackboard--blackboardWrapper--k3e-8"><div class="blackboard--blueBlackboard--cUVJY blackboard--blackboard--VH1qK"><div class="blackboard--blackboardContent--dvx-6"><div class="developer_docs--codeTextSection--KrK5Q"><div class="developer_docs--codeText--mtqhX"><div class="developer_docs--personalToken--iJJwi"><div><a target="_blank" rel="noopener" data-fpl-component="" class="developer_docs--personalToken--iJJwi" href="/login?cont=/developers/docs">Log in to generate an access token</a><a target="_blank" rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#access-tokens"><span class="developer_docs--helperText--DnhBy">What's this?</span></a></div></div></div></div><div class="developer_docs--codeTextSection--KrK5Q"><div class="developer_docs--codeTextHeader--Wl6ib">Using the token to make requests</div><div class="developer_docs--codeText--mtqhX"><pre>$ curl -sH 'X-Figma-Token: 29-206...'
    'https://api.figma.com/v1/files/...'
    | python -m json.tool
{
  "components": {},
  "document": {
    "children": [
      {
        "backgroundColor": {
          "a": 1,
          "b": 0.8980392156862745,
          "g": 0.8980392156862745,
          "r": 0.8980392156862745
        },
        "children": [],
        "exportSettings": [],
        "id": "0:1",
        "name": "Page 1",
        "type": "CANVAS",
      }
    ],
    "id": "0:0",
    "name": "Document",
    "type": "DOCUMENT",
  },
  "schemaVersion": 0
}</pre></div></div></div></div></div></div></div></div><div class="developer_docs--subsection--hZWIc" id="oauth2"><div class="developer_docs--subsectionHeader--xLpGV">OAuth 2</div><div><div><a rel="noopener nofollow noreferrer ugc" data-fpl-component="" class="link__link__n7llU" href="https://oauth.net/2/">OAuth 2</a> is a web security protocol that allows 3rd party applications to establish a link between a user’s account and their access to a given API, on behalf of that user. We support OAuth 2 authentication in addition to personal access tokens. You would use OAuth 2 when you would like to access the Figma API, without having to identify yourself as a specific user.</div></div><div><div class="developer_docs--oauth--vsfPJ"><p>To get started with <span class="format--italic--NDGIq">OAuth 2</span>:</p><ol><li><a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#register-oauth2">Register an application via your Figma account.</a></li><li><a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#auth-oauth2">Authenticate any users.</a></li><li><a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#token-oauth2">Use the OAuth 2 Token.</a></li><li><a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#refresh-oauth2">Refresh an OAuth 2 Token.</a></li></ol><div id="register-oauth2"><div class="developer_docs--subsubsectionHeader--EL8yi">Register an Application</div><p>Registering an OAuth app lets you establish links between existing Figma user accounts and your application, which allows you to access data on the user's behalf with Figma's APIs.</p><p>To register an OAuth app:</p><ol><li>Click <span class="format--bold--sWViV">My apps</span> in the top toolbar, or go to <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="/developers/apps">figma.com/developers/apps</a>.</li><li>In the upper-right corner of the page, click <span class="format--bold--sWViV">Create a new app</span>.</li><li>Add the required details for your application:<ol><li>Enter the name and website for your app.</li><li>Upload a logo for your application (users will be able to see this).</li></ol></li><li>Click <span class="format--bold--sWViV">Save</span> to create the app.</li><li>You will be given your <span class="format--bold--sWViV">client ID</span> and <span class="format--bold--sWViV">client secret</span>. This will allow you to access the Figma API. <span class="format--bold--sWViV">The client secret will only be shown to you once! Copy it now and store it securely.</span></li><li>In the list of your apps, click the app you just created.</li><li>In the modal for your app, click <span class="format--bold--sWViV">OAuth 2.0</span>, and then <span class="format--bold--sWViV">Add a redirect URL</span>. Redirect URLs are callbacks that can be any endpoint or URL of your choosing. Only URLs appearing in this list are allowed to receive the access token.</li><br><span class="format--bold--sWViV">What is a Callback?</span> When a user attempts to allow your application access to the API, our authentication servers will make a request (a Callback) to the endpoint you specified, with the access token included.</ol><p>You're now ready to authenticate users via your app!</p></div><div id="auth-oauth2"><div class="developer_docs--subsubsectionHeader--EL8yi">Authenticate users</div><p>To authenticate any users, ask them to visit the following URL: </p><div class="developer_docs--codeText--mtqhX"><pre>GET https://www.figma.com/oauth?
  client_id=:client_id&amp;
  redirect_uri=:callback&amp;
  scope=:scope&amp;
  state=:state&amp;
  response_type=code</pre></div><br><p>Important: this URL must be accessed via the user's browser and not an embedded webview inside your application. Webview access to the Figma OAuth flow is not supported and may stop working for some or all users without an API version update.</p><table class="developer_docs--propTable--kpCgF"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><span class="format--mono--9g4LC">client_id</span></td><td>The client ID for your app.</td></tr><tr><td>redirect_uri</td><td>This must be one of the redirect URLs you set as a callback for your OAuth app. The auth page will call this URI if the user allows access to your app.</td></tr><tr><td>scope</td><td>A space-separated or comma-separated list of <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#authentication-scopes">scopes</a> that you need for your application. Scopes determine which endpoints can be accessed. For example, if your application needs to read files and post comments, your scope value would be <span class="format--literal--ozK-p">files:read,file_comments:write</span>.</td></tr><tr><td>state</td><td>This is a value that you should randomly generate and store. When we call back to your callback endpoint, you should check that the state value we pass back to you matches the state value that you initially used in your request.</td></tr><tr><td>response_type</td><td>Currently we only support the authorization code flow for OAuth 2, so the only valid value here is <span class="format--literal--ozK-p">code</span>. We may support other values in the future.</td></tr><tr><td>code_challenge</td><td>Optional but highly recommended. If you are using PKCE (proof key for code exchange), you must provide a code challenge. Only the S256 method for generating the code challenge is supported.</td></tr></tbody></table><p>Once the user navigates to this address, they will see a screen like the following:</p><img src="https://static.figma.com/uploads/a731d76623eb7238781143797f6787b30e500753" alt="screenshot with the text &quot;Custom App would like your permission to access your files. This allows Custom App to read, but not modify, files you have access to&quot; and clickable options to allow or disallow access."><div class="developer_docs--blackboardAnchor--0MIOE"><p>If the user rejects the request, no callback is triggered.</p><p>At this point, the client will be redirected to the callback that was passed as redirect_uri.</p><div class="blackboard--blackboardWrapper--k3e-8"><div class="blackboard--blueBlackboard--cUVJY blackboard--blackboard--VH1qK"><div class="blackboard--blackboardContent--dvx-6"><div class="developer_docs--codeText--mtqhX">If the redirect URI that was provided is <span class="format--literal--ozK-p">https://example.com/oauth/callback</span>, then the expected callback request would look like: <span class="format--literal--ozK-p">https://example.com/oauth/callback?code=:code&amp;state=:state</span></div></div></div></div></div><p><ul><li><span class="format--bold--sWViV">:code</span> here refers to the authentication code that can be traded in for an access token.</li><li><span class="format--bold--sWViV">:state</span> refers to the state variable that was in the initial url given to the user.</li></ul></p><p>Please check that the state parameter passed back to you is the same as the one originally generated.</p><div id="exchange-code-oauth2" class="developer_docs--subsubsectionHeader--EL8yi">Exchanging the authentication code for an access token</div><p>Now the code can be passed back to the OAuth API to get the user's access token. Make a <span class="format--literal--ozK-p">POST</span> request to <span class="format--literal--ozK-p">https://api.figma.com/v1/oauth/token</span>. Include the <span class="format--literal--ozK-p">Content-Type: application/x-www-form-urlencoded</span> header.</p><p>Use the HTTP Basic Authentication scheme to send your <span class="format--literal--ozK-p">client_id</span> and <span class="format--literal--ozK-p">client_secret</span> in the request. First, concatenate your client ID and client secret with a colon (i.e. <span class="format--literal--ozK-p">client_id:client_secret</span>). Then, Base64 encode the resulting string and include it in the <span class="format--literal--ozK-p">Authorization</span> header. The header should be formatted like:</p><div class="developer_docs--codeText--mtqhX"><pre>Authorization: Basic &lt;BASE64_ENCODED_CLIENT_ID_AND_SECRET&gt;</pre></div><p>The request body should use the following format:</p><div class="developer_docs--codeText--mtqhX"><pre>redirect_uri=:callback&amp;code=:code&amp;grant_type=authorization_code</pre></div><p>Make sure to <a rel="noopener nofollow noreferrer ugc" data-fpl-component="" class="link__link__n7llU" href="https://en.wikipedia.org/wiki/Percent-encoding">URL-encode</a> the parameter values. The list of parameters is:</p><table class="developer_docs--propTable--kpCgF"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>redirect_uri</td><td>This must match the must match the redirect URI originally provided, and code must match the authentication code provided to your callback.</td></tr><tr><td>code</td><td>This is the code given to you in the callback request.</td></tr><tr><td>grant_type</td><td>This must be <span class="format--literal--ozK-p">authorization_code</span>.</td></tr><tr><td>code_verifier</td><td>If you used the PKCE flow, you must provide the verifier that you used to generate the code challenge.</td></tr></tbody></table><p>If the parameters are valid, you will receive the user access token and token expiration (in seconds) in a JSON response with the following structure:</p><div class="developer_docs--codeText--mtqhX"><pre>{
  "user_id_string": &lt;USER ID for the user who authorized the app&gt;,
  "access_token": &lt;TOKEN&gt;,
  "token_type": "bearer",
  "expires_in": &lt;EXPIRATION (in seconds)&gt;,
  "refresh_token": &lt;REFRESH TOKEN&gt;
}</pre></div><p><b>Note:</b> this response may also contain a numeric <span class="format--literal--ozK-p">user_id</span> property. This property is deprecated; please use <span class="format--literal--ozK-p">user_id_string</span> instead. Figma user IDs appear to be numeric, but many cannot be represented in common number formats such as JavaScript numbers and Go's <span class="format--literal--ozK-p">float64</span>.</p></div><div id="token-oauth2"><div class="developer_docs--subsubsectionHeader--EL8yi">Using the OAuth 2 Token</div><p>Once you have obtained the user access token, using it is very similar to the way you use <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#access-tokens">personal access tokens.</a></p><p>When you call the API, pass a Bearer authorization header like so:</p><div class="developer_docs--codeText--mtqhX"><pre>$ curl -sH 'Authorization: Bearer &lt;TOKEN&gt;'
    'https://api.figma.com/v1/files/...'
    | python -m json.tool
{
  "components": {},
  "document": {
    "children": [
      {
        "backgroundColor": {
          "a": 1,
          "b": 0.8980392156862745,
          "g": 0.8980392156862745,
          "r": 0.8980392156862745
        },
        "children": [],
        "exportSettings": [],
        "id": "0:1",
        "name": "Page 1",
        "type": "CANVAS",
      }
    ],
    "id": "0:0",
    "name": "Document",
    "type": "DOCUMENT",
  },
  "schemaVersion": 0
}</pre></div></div><div id="refresh-oauth2"><div class="developer_docs--subsubsectionHeader--EL8yi">Refreshing OAuth tokens</div><p>By default OAuth tokens expire after 90 days so you will need to refresh your stored tokens if your integration is long-lived. You do this using a refresh token.</p><p>A refresh token can be reused as many times as necessary to retrieve a new access token. To do this, make a <span class="format--literal--ozK-p">POST</span> request to <span class="format--literal--ozK-p">https://api.figma.com/v1/oauth/token</span>. Include the <span class="format--literal--ozK-p">Content-Type: application/x-www-form-urlencoded</span> header.</p><p>Use the HTTP Basic Authentication scheme to send your <span class="format--literal--ozK-p">client_id</span> and <span class="format--literal--ozK-p">client_secret</span> in the request. First, concatenate your client ID and client secret with a colon (i.e. <span class="format--literal--ozK-p">client_id:client_secret</span>). Then, Base64 encode the resulting string and include it in the <span class="format--literal--ozK-p">Authorization</span> header. The header should be formatted like:</p><div class="developer_docs--codeText--mtqhX"><pre>Authorization: Basic &lt;BASE64_ENCODED_CLIENT_ID_AND_SECRET&gt;</pre></div><p>The request body should use the following format:</p><div class="developer_docs--codeText--mtqhX"><pre>refresh_token=:token&amp;grant_type=refresh_token</pre></div><p>Make sure to <a rel="noopener nofollow noreferrer ugc" data-fpl-component="" class="link__link__n7llU" href="https://en.wikipedia.org/wiki/Percent-encoding">URL-encode</a> the parameter values and place them in the request body. The list of parameters is:</p><table class="developer_docs--propTable--kpCgF"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>refresh_token</td><td>The refresh token you received during the initial authorization flow.</td></tr><tr><td>grant_type</td><td>This must be <span class="format--literal--ozK-p">refresh_token</span>.</td></tr></tbody></table><p>If the parameters are valid, you will receive the user access token and token expiration (in seconds) in a JSON response with the following structure:</p><div class="developer_docs--codeText--mtqhX"><pre>{
  "access_token": &lt;TOKEN&gt;,
  "token_type": "bearer",
  "expires_in": &lt;EXPIRATION (in seconds)&gt;,
}</pre></div></div></div></div></div><div class="developer_docs--subsection--hZWIc" id="authentication-scopes"><div class="developer_docs--subsectionHeader--xLpGV">Scopes</div><div>Scopes for <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#access-tokens">personal access tokens</a> and <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#oauth2">OAuth 2 tokens</a> determine which endpoints can be accessed.</div><div><p>The following table lists the scopes that are available.</p><p><span class="format--bold--sWViV">Important:</span> Scopes do not supersede the permissions granted to you by an organization or the owner of a project, team, or file.<br><br>For example, even if your token uses the <span class="format--literal--ozK-p">files:read</span> scope, you can only access files that you've created or that have been shared with you (whether shared directly, or because you belong to a corresponding project or team). Similarly, if you listed projects and teams, you'd only see the projects and teams that you can access in Figma's file browser.</p><table class="developer_docs--propTable--kpCgF"><thead><tr><th>Scope</th><th>Description</th></tr></thead><tbody><tr><td><span class="format--literal--ozK-p">current_user:read</span></td><td>Read your name, email, and profile image.</td></tr><tr><td><span class="format--literal--ozK-p">file_comments:read</span></td><td>Read the comments for files.</td></tr><tr><td><span class="format--literal--ozK-p">file_comments:write</span></td><td>Post and delete comments and comment reactions in files.</td></tr><tr><td><span class="format--literal--ozK-p">file_content:read</span></td><td>Read the contents of files, such as nodes and the editor type.</td></tr><tr><td><span class="format--literal--ozK-p">file_dev_resources:read</span></td><td>Read dev resources in files.</td></tr><tr><td><span class="format--literal--ozK-p">file_dev_resources:write</span></td><td>Write dev resources to files.</td></tr><tr><td><span class="format--literal--ozK-p">file_metadata:read</span></td><td>Read metadata of files.</td></tr><tr><td><span class="format--literal--ozK-p">file_variables:read</span></td><td>Read variables in files. Note: Enterprise plan only.</td></tr><tr><td><span class="format--literal--ozK-p">file_variables:write</span></td><td>Write variables and collections in files. Note: Enterprise plan only.</td></tr><tr><td><span class="format--literal--ozK-p">file_versions:read</span></td><td>Read the version history for files you can access.</td></tr><tr><td><span class="format--literal--ozK-p">files:read</span></td><td><span class="format--bold--sWViV">Deprecated.</span> Read files, projects, users, versions, comments, components, styles, and webhooks. While this scope will continue to work, it's highly recommended you use the granular scopes Figma provides. Because <span class="format--literal--ozK-p">files:read</span> is extremely permissive, more limited scopes such as <span class="format--literal--ozK-p">file_content:read</span> and <span class="format--literal--ozK-p">file_comments:read</span> provide enhanced security and stability by reducing the surface of access to your files.</td></tr><tr><td><span class="format--literal--ozK-p">library_analytics:read</span></td><td>Read your design system analytics. Note: Enterprise plan only.</td></tr><tr><td><span class="format--literal--ozK-p">library_assets:read</span></td><td>Read data of individual published components and styles.</td></tr><tr><td><span class="format--literal--ozK-p">library_content:read</span></td><td>Read published components and styles of files.</td></tr><tr><td><span class="format--literal--ozK-p">org:activity_log_read</span></td><td>Read organization activity logs. Note: Enterprise plan only. <a rel="noopener" data-fpl-component="" class="link__link__n7llU" href="#activity_logs">Must be an organization admin.</a></td></tr><tr><td><span class="format--literal--ozK-p">projects:read</span></td><td>List projects and files in projects.</td></tr><tr><td><span class="format--literal--ozK-p">team_library_content:read</span></td><td>Read published components and styles of teams.</td></tr><tr><td><span class="format--literal--ozK-p">webhooks:read</span></td><td>Read metadata of webhooks.</td></tr><tr><td><span class="format--literal--ozK-p">webhooks:write</span></td><td>Create and manage webhooks.</td></tr></tbody></table><p>Note: the <span class="format--literal--ozK-p">file_read</span> scope is deprecated for OAuth 2 tokens. Please migrate your application to use the scopes above.</p></div></div></div>