<header><h1>figma.parameters</h1></header><p>These are methods and properties available on the <code>figma.parameters</code> global object. See <a href="/plugin-docs/plugin-parameters/">Accepting Parameters as Input</a> for more details.</p><div class="codeBlockContainer_X7hc language-ts theme-code-block"><div class="codeBlockContent_vqWU" style="color: rgb(248, 248, 242); background-color: rgb(40, 42, 54);"><pre tabindex="0" class="prism-code language-ts codeBlock_wPnj thin-scrollbar"><code class="codeBlockLines_fQUY"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token keyword" style="color: rgb(189, 147, 249); font-style: italic;">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ParameterInputEvent</span><span class="token class-name operator">&lt;</span><span class="token class-name constant" style="color: rgb(189, 147, 249);">T</span><span class="token class-name"> </span><span class="token class-name operator">=</span><span class="token class-name"> </span><span class="token class-name maybe-class-name">ParameterValues</span><span class="token class-name operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  query</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color: rgb(189, 147, 249);">string</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  key</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color: rgb(189, 147, 249);">string</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  parameters</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator">&lt;</span><span class="token constant" style="color: rgb(189, 147, 249);">T</span><span class="token operator">&gt;</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  result</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">SuggestionResults</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The <code>input</code> event is fired on every key press as the user is entering parameters for a plugin in quick actions. The expectation is that plugin will respond to these events by calling one of the APIs <code>result</code> object.</p><h3 data-property="true" class="anchor anchorWithStickyNavbar_loeA" id="on"><a class="hash-link" href="#on" title="Direct link to heading"></a>on(type: 'input', callback: (event: <a href="/plugin-docs/api/figma-parameters/#ParameterInputEvent">ParameterInputEvent</a>) =&gt; void): void</h3><p>Register a handler for user input events in the quick action UI.</p><hr class="property-separator"><h3 data-property="true" class="anchor anchorWithStickyNavbar_loeA" id="once"><a class="hash-link" href="#once" title="Direct link to heading"></a>once(type: 'input', callback: (event: <a href="/plugin-docs/api/figma-parameters/#ParameterInputEvent">ParameterInputEvent</a>) =&gt; void): void</h3><p>Register a handler for user input events in the quick action UI. Same as <code>figma.parameters.on("input")</code>, but only gets called the first time.</p><hr class="property-separator"><h3 data-property="true" class="anchor anchorWithStickyNavbar_loeA" id="off"><a class="hash-link" href="#off" title="Direct link to heading"></a>off(type: 'input', callback: (event: <a href="/plugin-docs/api/figma-parameters/#ParameterInputEvent">ParameterInputEvent</a>) =&gt; void): void</h3><p>Removes a handler added via <code>figma.parameters.on</code>.</p><hr class="property-separator"><h2 class="anchor anchorWithStickyNavbar_loeA" id="suggestionresults"><a class="hash-link" href="#suggestionresults" title="Direct link to heading"></a>SuggestionResults</h2><p>The <code>result</code> object passed to the <code>'input'</code> event handler contains API for controlling the UI that the user sees while
entering parameter values. Most importantly it is able to provide the list of autocomplete suggestions that the user
can choose from as they type.</p><p>But the <code>result</code> object also enables showing error messages and loading states.</p><h3 data-property="true" class="anchor anchorWithStickyNavbar_loeA" id="setsuggestions"><a class="hash-link" href="#setsuggestions" title="Direct link to heading"></a>setSuggestions(suggestions: Array&lt;string | { name: string; data: any; icon: string | Uint8Array; iconUrl: string }&gt;): void</h3><p>Sets the list of autocomplete suggestions to be displayed in the quick action UI.</p><p>If you only want to provide a string suggestion, and don't need metadata or icons, you can use
an array of simple string values. For example</p><div class="codeBlockContainer_X7hc language-ts theme-code-block"><div class="codeBlockTitle_B2tn" style="color: rgb(248, 248, 242); background-color: rgb(40, 42, 54);">Simple string suggestions</div><div class="codeBlockContent_vqWU" style="color: rgb(248, 248, 242); background-color: rgb(40, 42, 54);"><pre tabindex="0" class="prism-code language-ts codeBlock_wPnj thin-scrollbar"><code class="codeBlockLines_fQUY"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">figma</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token property-access">parameters</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token method function property-access" style="color: rgb(80, 250, 123);">on</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token string" style="color: rgb(255, 121, 198);">'input'</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> query</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> result </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  result</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token method function property-access" style="color: rgb(80, 250, 123);">setSuggestions</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token string" style="color: rgb(255, 121, 198);">"Armadillo"</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"Baboon"</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"Cacatua"</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(255, 121, 198);">"Dolphin"</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token method function property-access" style="color: rgb(80, 250, 123);">filter</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token plain">s </span><span class="token arrow operator">=&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token method function property-access" style="color: rgb(80, 250, 123);">includes</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token plain">query</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>However the API also allows providing more information with each suggestion:</p><ul><li>The text to display to the user</li><li>An icon (optional)</li><li>Hidden metadata which is passed back to the plugin if the user chooses this suggestion (optional)</li></ul><p>Example</p><div class="codeBlockContainer_X7hc language-ts theme-code-block"><div class="codeBlockTitle_B2tn" style="color: rgb(248, 248, 242); background-color: rgb(40, 42, 54);">Suggestions with icons and data</div><div class="codeBlockContent_vqWU" style="color: rgb(248, 248, 242); background-color: rgb(40, 42, 54);"><pre tabindex="0" class="prism-code language-ts codeBlock_wPnj thin-scrollbar"><code class="codeBlockLines_fQUY"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">result</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token method function property-access" style="color: rgb(80, 250, 123);">setSuggestions</span><span class="token punctuation" style="color: rgb(248, 248, 242);">(</span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> node1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token property-access">name</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> data</span><span class="token operator">:</span><span class="token plain"> node1</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token property-access">id</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> icon</span><span class="token operator">:</span><span class="token plain"> node1Preview </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> node2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token property-access">name</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> data</span><span class="token operator">:</span><span class="token plain"> node2</span><span class="token punctuation" style="color: rgb(248, 248, 242);">.</span><span class="token property-access">id</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"> icon</span><span class="token operator">:</span><span class="token plain"> node2Preview </span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><span class="token punctuation" style="color: rgb(248, 248, 242);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token spread operator">...</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token punctuation" style="color: rgb(248, 248, 242);">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The <code>name</code> property contains the text to display to the user in the autocomplete suggestions. This
property is required.</p><p>The <code>data</code> property allows associating hidden metadata with a given autocomplete suggestion.
This data is passed back to the plugin as the parameter's value if the user chooses this option.
If no <code>data</code> property is provided, it defaults to the value of the <code>name</code> property. I.e. the value
of the parameter will be the string that was displayed to the user.</p><p>An icon can be provided through a <code>icon</code> or <code>iconUrl</code> property. The <code>icon</code> property can contain
either a raster image in the form of a <code>Uint8Array</code>, or an SVG image in the form of a string. You
can alternatively use the <code>iconUrl</code> property to provide a URL to the image. Note that for this to
work the target server has to support CORS.</p><hr class="property-separator"><h3 data-property="true" class="anchor anchorWithStickyNavbar_loeA" id="seterror"><a class="hash-link" href="#seterror" title="Direct link to heading"></a>setError(message: string): void</h3><p>Displays an error message to the user instead of a list of autocomplete suggestions. When this function
is called, the user is prevented from moving on to the next parameter without first changing the input
for the current parameter.</p><p>This is useful to signal to the user that they have entered an invalid value and provide them
instruction for how to correct the input.</p><p>You can also use this as a way to validate pre-conditions, like current selection, or some state of the
current document. To do this, in the 'input' event handler for the first parameter key, check the that
all pre-conditions are fulfilled and call <code>setError</code> with an appropriate error message if they are not,
unconditionally of what the current <code>query</code> value is.</p><p>This function is <em>not</em> available on parameters with <code>allowFreeform</code> set. The purpose of <code>allowFreeform</code>
is to allow users to enter arbitrary values and so Figma doesn't guarantee that the plugin gets an
opportunity to handle an input event and call <code>setError</code> before the user moves on to the next parameter.</p><p>If you want to generally allow freeform input, but still retain the ability to call <code>setError</code>, you can
remove <code>allowFreeform</code> and manually add a autocomplete entry containing the current <code>query</code> string. I.e.
make the first item in the array passed to <code>setSuggestions</code> simply be the string in <code>query</code>.</p><p>For a full example of what this can look like, see the <a href="https://github.com/figma/plugin-samples/blob/master/resizer/code.ts" target="_blank" rel="noopener noreferrer">Resizer sample plugin</a></p><hr class="property-separator"><h3 data-property="true" class="anchor anchorWithStickyNavbar_loeA" id="setloadingmessage"><a class="hash-link" href="#setloadingmessage" title="Direct link to heading"></a>setLoadingMessage(message: string): void</h3><p>Modify the default "Loading Suggestions..." message displayed until the plugin calls <code>setSuggestions</code>.
This can be useful if your plugin needs to load autocomplete messages from the network, or if you need
to perform lengthy calculations.</p><p>You can call <code>setLoadingMessage</code> multiple times in order to provide an updated message.</p><hr class="property-separator"><h2 class="anchor anchorWithStickyNavbar_loeA" id="parametervalues"><a class="hash-link" href="#parametervalues" title="Direct link to heading"></a>ParameterValues</h2><div class="codeBlockContainer_X7hc language-ts theme-code-block"><div class="codeBlockContent_vqWU" style="color: rgb(248, 248, 242); background-color: rgb(40, 42, 54);"><pre tabindex="0" class="prism-code language-ts codeBlock_wPnj thin-scrollbar"><code class="codeBlockLines_fQUY"><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token keyword" style="color: rgb(189, 147, 249); font-style: italic;">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ParameterValues</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(248, 248, 242);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain">  </span><span class="token punctuation" style="color: rgb(248, 248, 242);">[</span><span class="token plain">key</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color: rgb(189, 147, 249);">string</span><span class="token punctuation" style="color: rgb(248, 248, 242);">]</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color: rgb(189, 147, 249);">any</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(248, 248, 242);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(248, 248, 242);">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>ParameterValues</code> is the type used to pass values for parameters into plugins. It's a mapping from parameter keys, which come from the <a href="/plugin-docs/manifest/#parameters">manifest</a>, to the value that the user typed or chose in the autocomplete suggestions. Depending on how your plugin specified the suggestion when calling <a href="/plugin-docs/api/figma-parameters/#setsuggestions"><code>setSuggestions</code></a> the value will resolve to:</p><ul><li>Suggestion's <code>data</code> property if sepecified</li><li>Suggestion's <code>name</code> property</li><li>The suggestion itself if a string was passed as the suggestion.</li><li>Query string for freeform parameters</li><li><code>undefined</code> for optional parameters that were skipped.</li></ul>