<header><h1>combineAsVariants</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This API is only available in Figma Design</p></div></div><p>Creates a new <a href="/plugin-docs/api/ComponentSetNode/"><code>ComponentSetNode</code></a> by combining all the nodes in <code>nodes</code>, which should all have type <a href="/plugin-docs/api/ComponentNode/"><code>ComponentNode</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_loeA" id="signature"><a class="hash-link" href="#signature" title="Direct link to heading"></a>Signature</h2><h3 class="property"><a href="/plugin-docs/api/properties/figma-combineasvariants/">combineAsVariants</a>(nodes: ReadonlyArray&lt;<a href="/plugin-docs/api/ComponentNode/">ComponentNode</a>&gt;, parent: <a href="/plugin-docs/api/nodes/#BaseNode">BaseNode</a> &amp; <a href="/plugin-docs/api/node-properties/#ChildrenMixin">ChildrenMixin</a>, index?: number): <a href="/plugin-docs/api/ComponentSetNode/">ComponentSetNode</a></h3><h2 class="anchor anchorWithStickyNavbar_loeA" id="parameters"><a class="hash-link" href="#parameters" title="Direct link to heading"></a>Parameters</h2><h3 class="anchor anchorWithStickyNavbar_loeA" id="nodes"><a class="hash-link" href="#nodes" title="Direct link to heading"></a>nodes</h3><p>The list of nodes in the new component set. This list must be non-empty, and must consist of only component nodes.</p><h3 class="anchor anchorWithStickyNavbar_loeA" id="parent"><a class="hash-link" href="#parent" title="Direct link to heading"></a>parent</h3><p>The node under which the new component set will be created. This is similar to <code>parent.appendChild(componentSet)</code>, but must be specified at the time that the group is created rather than later.</p><h3 class="anchor anchorWithStickyNavbar_loeA" id="index"><a class="hash-link" href="#index" title="Direct link to heading"></a>index</h3><p>An optional index argument that specifies where inside <code>parent</code> the new component set will be created. When this argument is not provided, it will default to appending the component set as the last (topmost) child. This is similar to the index argument in <code>parent.insertChild(index, componentSet)</code>.</p><h2 class="anchor anchorWithStickyNavbar_loeA" id="remarks"><a class="hash-link" href="#remarks" title="Direct link to heading"></a>Remarks</h2><p>This API is roughly the equivalent of pressing the "Combine as Variants" button in the editor, but combines the specified list of nodes rather than the current selection. You may still, of course, combine the current selection as variants by passing it as an argument:</p><div class="codeBlockContainer_X7hc language-ts theme-code-block"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_B2tn">Combining variants</div><div class="codeBlockContent_vqWU" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-ts codeBlock_wPnj thin-scrollbar"><code class="codeBlockLines_fQUY"><span class="token-line" style="color:#F8F8F2"><span class="token plain">figma</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">combineAsVariants</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">figma</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">currentPage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">selection</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> parent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Why is there no <code>figma.createComponentSet()</code> function? It would create an empty component set, and empty component sets are not supported in Figma.</p></div></div><p>Since combining as variants involves moving nodes to a different parent, this operation is subject to many reparenting restrictions:</p><h2 class="anchor anchorWithStickyNavbar_loeA" id="possible-error-cases"><a class="hash-link" href="#possible-error-cases" title="Direct link to heading"></a>Possible error cases</h2><p><code>First argument must be an array of at least one node</code></p><p><code>Cannot insert node at index greater than the number of existing siblings</code></p><p><code>Grouped nodes must be in the same page as the parent</code></p><p><code>Cannot move node. Node is the scene root, which cannot be reparented</code></p><p><code>Cannot move node. Doing so would create a parenting cycle</code></p><p><code>Cannot move node. The root node cannot have children of type other than PAGE</code></p><p><code>Cannot move node. Nodes other than the root node cannot have children of type PAGE</code></p><p><code>Cannot move node. New parent is of a type that cannot have children</code></p><p><code>Cannot move node. New parent is a internal, readonly-only node</code></p><p><code>Cannot move node. Node is an internal, readonly-only node</code></p><p><code>Cannot move node. New parent is an instance or is inside of an instance</code></p><p><code>Cannot move node. Node is inside of an instance</code></p><p><code>Cannot move node. Reparenting would create a component cycle</code></p><p><code>Cannot move node. Reparenting would create a component inside a component</code></p><p><code>Cannot move node. Reparenting would create a component set cycle</code></p><p><code>Cannot move node. A COMPONENT_SET node cannot have children of type other than COMPONENT</code></p><p><code>Cannot move node. PageDivider cannot have children</code></p>